import{k as s,r as a,e as o,j as e,B as i,Q as h,f,g as p,T as g,h as b,i as y}from"./QueryClientProvider-SY5Ag7ZX.js";import{U as n}from"./user-CXP-sQiG.js";import{M as j}from"./map-pin-BcT29H21.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=s("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=s("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=s("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=s("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=s("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);function M(){const[r,c]=a.useState(null),[x,m]=a.useState(!0),u=()=>{localStorage.clear(),o.success("Logged out successfully"),window.location.href="/logout"};return a.useEffect(()=>{const l=localStorage.getItem("username");if(!l){o.error("You are not logged in"),window.location.href="/auth";return}(async()=>{try{const t=await fetch(`/api/profile?username=${l}`),d=await t.json();if(!t.ok)throw new Error(d.error||"Failed to load profile");c(d)}catch(t){o.error(t.message)}finally{m(!1)}})()},[]),x?e.jsx("div",{className:"glass-card rounded-3xl p-6 animate-pulse text-center",children:"Loading profile..."}):r?e.jsxs("div",{className:"glass-card rounded-3xl p-6 space-y-6 animate-slide-up",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-border/50",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:e.jsx(n,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"User Profile"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your information"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:"Full Name"}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded-2xl bg-secondary/50 border border-border/50",children:[e.jsx(n,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[r.firstname||"N/A"," ",r.lastname||""]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:"Email Address"}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded-2xl bg-secondary/50 border border-border/50",children:[e.jsx(L,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:r.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:"Age"}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded-2xl bg-secondary/50 border border-border/50",children:[e.jsx(k,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:r.age_group||"N/A"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-muted-foreground mb-1 flex items-center gap-1",children:[e.jsx(v,{className:"w-4 h-4"}),"Health Sensitivities / Medical Notes"]}),e.jsx("div",{className:"min-h-[100px] px-4 py-3 rounded-2xl bg-secondary/50 border border-border/50",children:e.jsx("span",{children:r.is_sensitive?"Sensitive":"None"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:"Preferred Location (City)"}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 rounded-2xl bg-secondary/50 border border-border/50",children:[e.jsx(j,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:r.location||"Not set"})]})]}),e.jsxs(i,{onClick:u,variant:"destructive",className:"w-full mt-6",size:"lg",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):e.jsx("div",{className:"glass-card rounded-3xl p-6 text-center text-red-500",children:"Failed to load profile"})}function P(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary",children:[e.jsx("header",{className:"sticky top-0 z-10 backdrop-blur-xl bg-background/80 border-b border-border/50",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center gap-3",children:[e.jsx(i,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>window.history.back(),children:e.jsx(N,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-xl font-bold",children:"Profile"})]})}),e.jsx("main",{className:"max-w-2xl mx-auto px-4 py-6",children:e.jsx(M,{})})]})}const C=new h;f(document.getElementById("root")).render(e.jsx(p,{client:C,children:e.jsxs(g,{children:[e.jsx(b,{}),e.jsx(y,{}),e.jsx(P,{})]})}));
